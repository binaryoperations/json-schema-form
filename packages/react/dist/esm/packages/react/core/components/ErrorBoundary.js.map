{"version":3,"file":"ErrorBoundary.js","sources":["../../../../../../core/components/ErrorBoundary.tsx"],"sourcesContent":["import type { ComponentType } from 'react';\nimport { type PropsWithChildren, PureComponent, type ReactNode } from 'react';\n\ntype ErrorBoundaryState = {\n  error: Error | null;\n};\n\ntype ErrorBoundaryProps = PropsWithChildren<{\n  renderError?: (onRetry: () => void) => ReactNode;\n  Fallback?: ComponentType<{ onRetry: () => void }>;\n}>;\n\nexport class ErrorBoundary extends PureComponent<\n  ErrorBoundaryProps,\n  ErrorBoundaryState\n> {\n  state = {\n    error: null,\n  };\n\n  static getDerivedStateFromError(error: Error) {\n    return {\n      error,\n    };\n  }\n\n  retry = () => {\n    this.setState({ error: null });\n  };\n\n  renderErrored() {\n    if (this.props.renderError) return this.props.renderError(this.retry);\n\n    const Fallback = this.props.Fallback;\n    if (Fallback) return <Fallback onRetry={this.retry} />;\n\n    return null;\n  }\n\n  render() {\n    if (this.state.error) return this.renderErrored();\n    return <>{this.props.children}</>;\n  }\n}\n\nexport const withErrorBoundary = <Props extends object>(\n  Component: ComponentType<Props>,\n  Fallback?: ErrorBoundaryProps['Fallback']\n) => {\n  return function withErrorBoundary(props: Props) {\n    const { ...componentProps } = props;\n    return (\n      <ErrorBoundary Fallback={Fallback}>\n        <Component {...(componentProps as Props)} />\n      </ErrorBoundary>\n    );\n  };\n};\n"],"names":["ErrorBoundary","PureComponent","__publicField","error","Fallback","_jsx","withErrorBoundary","Component","props","componentProps"],"mappings":"kWAYM,MAAOA,UAAsBC,EAAAA,aAGlC,CAHK,kCAIJC,EAAA,aAAQ,CACN,MAAO,IAAA,GASTA,EAAA,aAAQ,IAAK,CACX,KAAK,SAAS,CAAE,MAAO,IAAM,CAAA,CAAA,GAP/B,OAAO,yBAAyBC,EAAY,CACnC,MAAA,CACL,MAAAA,CAAA,CAEJ,CAMA,eAAa,CACX,GAAI,KAAK,MAAM,YAAa,OAAO,KAAK,MAAM,YAAY,KAAK,KAAK,EAE9D,MAAAC,EAAW,KAAK,MAAM,SACxB,OAAAA,EAAiBC,EAAAA,IAACD,EAAS,CAAA,QAAS,KAAK,MAAK,EAE3C,IACT,CAEA,QAAM,CACJ,OAAI,KAAK,MAAM,MAAc,KAAK,gBAC3BC,EAAAA,yBAAG,KAAK,MAAM,UACvB,CACD,CAEY,MAAAC,EAAoB,CAC/BC,EACAH,IAEO,SAA2BI,EAAY,CACtC,KAAA,CAAE,GAAGC,CAAmB,EAAAD,EAC9B,OACEH,MAACL,EAAa,CAAC,SAAAI,EACb,SAAAC,MAACE,EAAe,CAAA,GAAAE,CAA4B,CAAA,CAAA,CAAA,CAAA"}