{"version":3,"file":"useSafeCallback.js","sources":["../../../../../../core/hooks/useSafeCallback.ts"],"sourcesContent":["import { useCallback } from 'react';\n\nimport useLatest from './useLatest';\n\n/**\n *\n * @template  {function} T\n * @param {T} func\n * @returns {T}\n */\n\nexport const useSafeCallback = <F extends (...any: any[]) => any>(func: F) => {\n  const latestFunc = useLatest(func);\n  if (typeof func !== 'function')\n    throw new Error(\n      'useSafeCallback accepts exactly one argument of type function'\n    );\n\n  return useCallback(\n    (...args: Parameters<F>) => {\n      // there is a posibility that the latest function has been called AFTER unmount.\n      return latestFunc.current?.(...args) as ReturnType<F>;\n    },\n    [latestFunc]\n  );\n};\n\nexport default useSafeCallback;\n"],"names":["useSafeCallback","func","latestFunc","useLatest","useCallback","args","_a"],"mappings":"uIAWa,MAAAA,EAAqDC,GAAW,CACrE,MAAAC,EAAaC,EAAUF,CAAI,EACjC,GAAI,OAAOA,GAAS,WACZ,MAAA,IAAI,MACR,+DAA+D,EAG5D,OAAAG,EAAA,YACL,IAAIC,IAAuB,OAElB,OAAAC,EAAAJ,EAAW,UAAX,YAAAI,EAAA,KAAAJ,EAAqB,GAAGG,EAAI,EAErC,CAACH,CAAU,CAAC,CAEhB"}