import { findControl } from '../../../core/controls/findControl';
import invariant from '../../../core/internals/invariant';
import { shallowCompare } from '../../../core/internals/object';
import { useFormDataRef } from '../context/FormDataContext';
import { useRendererContext } from '../context/RendererContext';
import { useStore } from './useStore';
export const useLayoutNode = (type) => {
    return invariant(useRendererContext((store) => {
        return store.layout[type];
    })[0], `Layout "${type}" has not been registered`);
};
export const useCustomLayoutNode = (type) => {
    return invariant(useRendererContext((store) => {
        return typeof type === 'string' ? store.layout[type] : type;
    })[0], `Custom Layout "${type}" has not been registered`);
};
export const useControlNode = (id) => {
    const [controls] = useRendererContext((store) => store.controls);
    const formDataRef = useFormDataRef();
    return useStore((store) => {
        return findControl(controls, store.uiContext.getNode(id), store.uiContext.deriveSchemaAtPointer(id, formDataRef.current));
    }, shallowCompare)[0];
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlUmVuZGVyZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9jb3JlL2hvb2tzL3VzZVJlbmRlcmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSx3REFBd0QsQ0FBQztBQUNyRixPQUFPLFNBQVMsTUFBTSx1REFBdUQsQ0FBQztBQUM5RSxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sb0RBQW9ELENBQUM7QUFHcEYsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQzVELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQ2hFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFFdEMsTUFBTSxDQUFDLE1BQU0sYUFBYSxHQUFHLENBQUMsSUFBWSxFQUFFLEVBQUU7SUFDNUMsT0FBTyxTQUFTLENBQ2Qsa0JBQWtCLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRTtRQUMzQixPQUFPLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDNUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQ0wsV0FBVyxJQUFJLDJCQUEyQixDQUMzQyxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sbUJBQW1CLEdBQUcsQ0FBQyxJQUFvQyxFQUFFLEVBQUU7SUFDMUUsT0FBTyxTQUFTLENBQ2Qsa0JBQWtCLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRTtRQUMzQixPQUFPLE9BQU8sSUFBSSxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO0lBQzlELENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUNMLGtCQUFrQixJQUFJLDJCQUEyQixDQUNsRCxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sY0FBYyxHQUFHLENBQUMsRUFBVSxFQUFFLEVBQUU7SUFDM0MsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFHLGtCQUFrQixDQUFDLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDakUsTUFBTSxXQUFXLEdBQUcsY0FBYyxFQUFFLENBQUM7SUFFckMsT0FBTyxRQUFRLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRTtRQUN4QixPQUFPLFdBQVcsQ0FDaEIsUUFBUSxFQUNSLEtBQUssQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxFQUMzQixLQUFLLENBQUMsU0FBUyxDQUFDLHFCQUFxQixDQUFDLEVBQUUsRUFBRSxXQUFXLENBQUMsT0FBTyxDQUFFLENBQ2hFLENBQUM7SUFDSixDQUFDLEVBQUUsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDeEIsQ0FBQyxDQUFDIn0=